{"version":3,"file":"main.js","mappings":";;;;;;;AAAA;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;ACtBA;;;GAGG;;AAEH,+CAAmC;AACnC,2CAAqC;AAErC,MAAM,GAAG,GAAG,OAAO,EAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;IAC3B,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,oBAAoB,EAAE,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC;AAEH,MAAM,SAAS,GAAG,kBAAO,EAAC,mBAAe,CAAC,2BAA0B,CAAC,CAAC;AACtE,MAAM,UAAU,GAAG,kBAAO,EAAC,mBAAe,CAAC,4BAA2B,CAAC,CAAC;AAExE,MAAM,mBAAmB,GAAG,GAAG,SAAS,QAAQ;AAChD,MAAM,oBAAoB,GAAG,GAAG,UAAU,QAAQ;AAElD,MAAM,UAAU,GAAG,CAAC,GAAoB,EAAE,EAAE;IAC1C,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;IAEjD,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,GAAG;QAC9B,GAAG,CAAC,QAAQ,CAAC,eAAI,EAAC,mBAAmB,EAAE,YAAY,CAAC,CAAC,CAAC;IACxD,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,WAAW,GAAG,CAAC,GAAoB,EAAE,EAAE;IAC3C,GAAG,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;IAExD,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,GAAG,EAAE,GAAG;QACpC,GAAG,CAAC,QAAQ,CAAC,eAAI,EAAC,oBAAoB,EAAE,YAAY,CAAC,CAAC,CAAC;IACzD,CAAC,CAAC,CAAC;AACL,CAAC;AAED,UAAU,CAAC,GAAG,CAAC;AACf,WAAW,CAAC,GAAG,CAAC;AAEhB,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;AACtC,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;IACnC,OAAO,CAAC,GAAG,CAAC,iCAAiC,IAAI,MAAM,CAAC,CAAC;AAC3D,CAAC,CAAC,CAAC;AACH,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC","sources":["webpack://test-nx-heroku/external commonjs \"express\"","webpack://test-nx-heroku/external node-commonjs \"path\"","webpack://test-nx-heroku/webpack/bootstrap","webpack://test-nx-heroku/./apps/server/src/main.ts"],"sourcesContent":["module.exports = require(\"express\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * This is not a production server yet!\n * This is only a minimal backend to get started.\n */\n\nimport * as express from 'express';\nimport { dirname, join } from \"path\";\n\nconst app = express();\n\napp.get('/api', (req, res) => {\n  res.send({ message: 'Welcome to server!' });\n});\n\nconst frontPath = dirname(require.resolve('../../front/project.json'))\nconst front2Path = dirname(require.resolve('../../front2/project.json'))\n\nconst frontBuiltFilesPath = `${frontPath}/build`\nconst front2BuiltFilesPath = `${front2Path}/build`\n\nconst serveFront = (app: express.Express) => {\n  app.use('/', express.static(frontBuiltFilesPath))\n\n  app.get('/*', function (req, res) {\n    res.sendFile(join(frontBuiltFilesPath, 'index.html'));\n  });\n}\n\nconst serveFront2 = (app: express.Express) => {\n  app.use('/front2', express.static(front2BuiltFilesPath))\n\n  app.get('/front2*', function (req, res) {\n    res.sendFile(join(front2BuiltFilesPath, 'index.html'));\n  });\n}\n\nserveFront(app)\nserveFront2(app)\n\nconst port = process.env.port || 3333;\nconst server = app.listen(port, () => {\n  console.log(`Listening at http://localhost:${port}/api`);\n});\nserver.on('error', console.error);\n"],"names":[],"sourceRoot":""}